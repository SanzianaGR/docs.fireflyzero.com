<script type="text/javascript">
  const tabs = document.querySelectorAll("input.toggle.tab");

  function switchTab(e) {
    const focusName = e.currentTarget.dataset.name;
    localStorage.tabName = focusName;
    tabs.forEach((tab) => {
      if (tab.dataset.name == focusName) {
        tab.checked = "checked";
      }
    });
  }

  function listenToTabs() {
    tabs.forEach((tab) => {
      tab.addEventListener("input", switchTab);
    });
  }

  function restoreTabs() {
    const focusName = localStorage.tabName;
    if (focusName) {
      tabs.forEach((tab) => {
        if (tab.dataset.name == focusName) {
          tab.checked = "checked";
        }
      });
    }
  }

  restoreTabs();
  listenToTabs();
</script>
